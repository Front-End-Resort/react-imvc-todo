(this.webpackJsonp=this.webpackJsonp||[]).push([[2],{451:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"initialState",(function(){return s})),n.d(r,"INITIAL_TODO_LIST",(function(){return d})),n.d(r,"ADD_TODO",(function(){return m})),n.d(r,"REMOVE_TODO",(function(){return p})),n.d(r,"REMOVE_COMPLETED_TODO",(function(){return y})),n.d(r,"TOGGLE_ALL",(function(){return b})),n.d(r,"TOGGLE_ONE",(function(){return E})),n.d(r,"TOGGLE_SHOWING",(function(){return O})),n.d(r,"START_EDITING",(function(){return g})),n.d(r,"STOP_EDITING",(function(){return v})),n.d(r,"UPDATE_EDITING_TITLE",(function(){return h}));var o,i=n(449),c=n.n(i);function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.ALL=0]="ALL",t[t.ACTIVE=1]="ACTIVE",t[t.COMPLETED=2]="COMPLETED"}(o||(o={}));var s={todoList:[],completedTodoIds:[],currentShowing:o.ALL,editing:null},d=function(t,e){return l({},t,{todoList:e})},m=function(t,e){return l({},t,{todoList:[e].concat(a(t.todoList))})},p=function(t,e){var n=t.todoList.filter((function(t){return t.id!==e}));return l({},t,{todoList:n})},y=function(t){var e=t.todoList.filter((function(t){return!t.completed}));return l({},t,{todoList:e})},b=function(t,e){var n=t.todoList.map((function(t){return l({},t,{completed:e})}));return l({},t,{todoList:n})},E=function(t,e){var n=t.todoList.map((function(t){return t.id!==e?t:l({},t,{completed:!t.completed})}));return l({},t,{todoList:n})},O=function(t,e){return l({},t,{currentShowing:e})},g=function(t,e){return l({},t,{editing:e})},v=function(t){return l({},t,{editing:null})},h=function(t,e){var n=t.todoList.map((function(n){return n.id!==t.editing?n:l({},n,{title:e})}));return l({},t,{todoList:n})},T=n(16),L=n.n(T),S=n(450);function w(t){var e=t.children;return L.a.createElement(L.a.Fragment,null,L.a.createElement("div",{className:"todoapp",style:{height:"100%",background:"#fff"}},L.a.createElement(S.Style,{name:"index"}),L.a.createElement(S.Style,{name:"base"}),e),L.a.createElement("footer",{className:"info"},L.a.createElement("p",null,"Double-click to edit a todo"),L.a.createElement("p",null,"Created by ",L.a.createElement("a",{href:"http://github.com/remojansen/"},"Remo H. Jansen")),L.a.createElement("p",null,"Part of ",L.a.createElement("a",{href:"http://todomvc.com"},"TodoMVC"))))}var j=n(448);function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=13;function I(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(n+="-"),n+=(12===t?4:16===t?3&e|8:e).toString(16);return n}function _(){var t=A(Object(T.useState)(""),2),e=t[0],n=t[1],r=Object(j.useModelActions)();return L.a.createElement("header",{className:"header"},L.a.createElement("h1",null,"todos"),L.a.createElement("input",{className:"new-todo",value:e,placeholder:"What needs to be done?",onKeyDown:function(t){t.keyCode===D&&""!==e&&(t.preventDefault(),(0,r.ADD_TODO)({id:I(),title:e,completed:!1}),n(""))},onChange:function(t){n(t.target.value)},autoFocus:!0}))}var N=n(173),C=n.n(N);function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var k=13,G=27;function M(t){var e=t.todo,n=t.editing,r=t.onSave,o=t.onDestroy,i=t.onEdit,c=t.onCancel,a=t.onToggle,u=Object(T.useRef)(null),l=P(Object(T.useState)(""),2),f=l[0],s=l[1],d=Object(T.useMemo)((function(){return null!==n&&e.id===n}),[e,n]);Object(T.useEffect)((function(){d&&u.current&&u.current.focus()}),[d]);var m=function(){var t=f;t?(r(e.id,t),s(t)):o(e.id)};return L.a.createElement("li",{className:C()({completed:e.completed,editing:d})},L.a.createElement("div",{className:"view"},L.a.createElement("input",{className:"toggle",type:"checkbox",checked:e.completed,onChange:function(){a(e.id)}}),L.a.createElement("label",{onDoubleClick:function(){s(e.title),i(e.id)}},e.title),L.a.createElement("button",{className:"destroy",onClick:function(){o(e.id)}})),L.a.createElement("input",{ref:u,className:"edit",value:f,onBlur:m,onChange:function(t){s(t.target.value)},onKeyDown:function(t){t.keyCode===G?(s(e.title),c(e.id)):t.keyCode===k&&m()}}))}function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(){var t=V(Object(j.useModel)(),2),e=t[0],n=t[1],r=e.todoList.some((function(t){return!1===t.completed})),i=Object(T.useMemo)((function(){var t=e.todoList.slice();return e.currentShowing===o.ACTIVE&&(t=t.filter((function(t){return!t.completed}))),e.currentShowing===o.COMPLETED&&(t=t.filter((function(t){return t.completed}))),t.map((function(t){return L.a.createElement(M,{key:t.id,todo:t,editing:e.editing,onSave:c,onDestroy:a,onEdit:u,onCancel:l,onToggle:f})}))}),[e.todoList,e.currentShowing,e.editing]),c=function(t,r){if(e.editing===t){var o=n.UPDATE_EDITING_TITLE,i=n.STOP_EDITING;o(r),i()}},a=function(t){var e=n.REMOVE_TODO,r=n.STOP_EDITING;e(t),r()},u=function(t){null===e.editing&&(0,n.START_EDITING)(t)},l=function(t){e.editing===t&&(0,n.STOP_EDITING)()},f=function(t){(0,n.TOGGLE_ONE)(t)};return L.a.createElement("section",{className:"main"},L.a.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",onChange:function(){(0,n.TOGGLE_ALL)(!e.todoList.every((function(t){return t.completed})))},checked:r}),L.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),L.a.createElement("ul",{className:"todo-list"},i))}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(){var t=R(Object(j.useModel)(),2),e=t[0],n=t[1],r=Object(T.useMemo)((function(){var t=e.todoList.filter((function(t){return!t.completed})).length;return{count:t,completedCount:e.todoList.length-t}}),[e.todoList]),i=r.count,c=r.completedCount,a=function(t){(0,n.TOGGLE_SHOWING)(t)};return L.a.createElement("footer",{className:"footer"},L.a.createElement("span",{className:"todo-count"},L.a.createElement("strong",null,i)," ",i>1?"items":"item"," left"),L.a.createElement("ul",{className:"filters"},L.a.createElement("li",null,L.a.createElement("a",{onClick:function(){return a(o.ALL)},className:C()({selected:e.currentShowing===o.ALL})},"All"))," ",L.a.createElement("li",null,L.a.createElement("a",{onClick:function(){return a(o.ACTIVE)},className:C()({selected:e.currentShowing===o.ACTIVE})},"Active"))," ",L.a.createElement("li",null,L.a.createElement("a",{onClick:function(){return a(o.COMPLETED)},className:C()({selected:e.currentShowing===o.COMPLETED})},"Completed"))),c>0&&L.a.createElement("button",{className:"clear-completed",onClick:function(){(0,n.REMOVE_COMPLETED_TODO)()}},"Clear completed"))}function F(){return L.a.createElement(w,null,L.a.createElement(_,null),L.a.createElement(x,null),L.a.createElement(J,null))}function H(t){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return z}));var z=function(t){function e(){var t,n,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var c=arguments.length,a=new Array(c),u=0;u<c;u++)a[u]=arguments[u];return o=this,n=!(i=(t=K(e)).call.apply(t,[this].concat(a)))||"object"!==H(i)&&"function"!==typeof i?U(o):i,q(U(n),"View",F),q(U(n),"Model",r),q(U(n),"preload",{index:"/css/index.css",base:"/css/base.css"}),n}var n,o,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,t),n=e,(o=[{key:"componentDidFirstMount",value:function(){var t=localStorage.getItem("react-imvc-todo"),e=t&&JSON.parse(t)||[];this.store.actions.INITIAL_TODO_LIST(e),this.store.subscribe((function(t){localStorage.setItem("react-imvc-todo",JSON.stringify(t.currentState.todoList))}))}}])&&W(n.prototype,o),i&&W(n,i),e}(c.a)}}]);